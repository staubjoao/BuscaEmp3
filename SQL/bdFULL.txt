CREATE TABLE IF NOT EXISTS `estado` (
  `idestado` INT NOT NULL AUTO_INCREMENT,
  `estado` VARCHAR(45) NOT NULL,
  `uf` VARCHAR(2) NOT NULL,
  PRIMARY KEY (`idestado`))
ENGINE = InnoDB;

CREATE TABLE Admin(
                
id_admin INT NOT NULL AUTO_INCREMENT,
                
login VARCHAR(20) NOT NULL,
                
senha VARCHAR(20) NOT NULL,
                
nome VARCHAR(50) NOT NULL,
                
PRIMARY KEY (id_admin)
);


CREATE TABLE IF NOT EXISTS `cidade` (
  `idcidade` INT NOT NULL AUTO_INCREMENT,
  `cidade` VARCHAR(45) NOT NULL,
  `estado_idestado` INT NOT NULL,
  PRIMARY KEY (`idcidade`, `estado_idestado`),
  INDEX `fk_cidade_estado1_idx` (`estado_idestado` ASC),
  CONSTRAINT `fk_cidade_estado1`
    FOREIGN KEY (`estado_idestado`)
    REFERENCES `estado` (`idestado`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `curriculo` (
  `idcurriculo` INT NOT NULL AUTO_INCREMENT,
  `email` VARCHAR(80) NOT NULL,
  `senha` VARCHAR(12) NOT NULL,
  `nome` VARCHAR(80) NOT NULL,
  `cpf` CHAR(11) NOT NULL,
  `cep` CHAR(8) NULL,
  `endereco` VARCHAR(80) NULL,
  `numero` VARCHAR(45) NULL,
  `telefone` VARCHAR(45) NOT NULL,
  `objetivoProfissional` VARCHAR(45) NOT NULL,
  `cidade_idcidade` INT NOT NULL,
  `cidade_estado_idestado` INT NOT NULL,
  PRIMARY KEY (`idcurriculo`, `cidade_idcidade`, `cidade_estado_idestado`),
  INDEX `fk_curriculo_cidade1_idx` (`cidade_idcidade` ASC, `cidade_estado_idestado` ASC),
  CONSTRAINT `fk_curriculo_cidade1`
    FOREIGN KEY (`cidade_idcidade` , `cidade_estado_idestado`)
    REFERENCES `cidade` (`idcidade` , `estado_idestado`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `idiomas` (
  `ididiomas` INT NOT NULL AUTO_INCREMENT,
  `idioma` VARCHAR(45) NULL,
  `nivel` VARCHAR(45) NULL,
  PRIMARY KEY (`ididiomas`))
ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `idiomas_curriculo` (
  `ididiomas_curriculo` INT NOT NULL AUTO_INCREMENT,
  `idiomas_ididiomas` INT NULL,
  `curriculo_idcurriculo` INT NOT NULL,
  PRIMARY KEY (`ididiomas_curriculo`, `idiomas_ididiomas`, `curriculo_idcurriculo`),
  INDEX `fk_idiomas_curriculo_curriculo1_idx` (`curriculo_idcurriculo` ASC),
  CONSTRAINT `fk_idiomas_curriculo_idiomas`
    FOREIGN KEY (`idiomas_ididiomas`)
    REFERENCES `idiomas` (`ididiomas`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_idiomas_curriculo_curriculo1`
    FOREIGN KEY (`curriculo_idcurriculo`)
    REFERENCES `curriculo` (`idcurriculo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `expProfissional` (
  `idexpProfissional` INT NOT NULL AUTO_INCREMENT,
  `empresa` VARCHAR(45) NULL,
  `cargo` VARCHAR(45) NULL,
  `inicio` DATE NULL,
  `expProfissionalcol` VARCHAR(45) NULL,
  `termino` DATE NULL,
  `curriculo_idcurriculo` INT NULL,
  PRIMARY KEY (`idexpProfissional`, `curriculo_idcurriculo`),
  INDEX `fk_expProfissional_curriculo1_idx` (`curriculo_idcurriculo` ASC),
  CONSTRAINT `fk_expProfissional_curriculo1`
    FOREIGN KEY (`curriculo_idcurriculo`)
    REFERENCES `curriculo` (`idcurriculo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `formAcademica` (
  `idformAcademica` INT NOT NULL AUTO_INCREMENT,
  `modalidade` VARCHAR(45) NULL,
  `curso` VARCHAR(45) NULL,
  `inicio` DATE NULL,
  `termino` DATE NULL,
  `curriculo_idcurriculo` INT NULL,
  PRIMARY KEY (`idformAcademica`, `curriculo_idcurriculo`),
  INDEX `fk_formAcademica_curriculo1_idx` (`curriculo_idcurriculo` ASC),
  CONSTRAINT `fk_formAcademica_curriculo1`
    FOREIGN KEY (`curriculo_idcurriculo`)
    REFERENCES `curriculo` (`idcurriculo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `perguntas` (
  `idperguntas` INT NOT NULL AUTO_INCREMENT,
  `pergunta` VARCHAR(8000) NOT NULL,
  `resposta` INT NOT NULL,
  PRIMARY KEY (`idperguntas`))
ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `perguntas_curriculo` (
  `idperguntas_curriculo` INT NOT NULL AUTO_INCREMENT,
  `curriculo_idcurriculo` INT NOT NULL,
  `perguntas_idperguntas` INT NOT NULL,
  PRIMARY KEY (`idperguntas_curriculo`, `curriculo_idcurriculo`, `perguntas_idperguntas`),
  INDEX `fk_perguntas_curriculo_curriculo1_idx` (`curriculo_idcurriculo` ASC),
  INDEX `fk_perguntas_curriculo_perguntas1_idx` (`perguntas_idperguntas` ASC),
  CONSTRAINT `fk_perguntas_curriculo_curriculo1`
    FOREIGN KEY (`curriculo_idcurriculo`)
    REFERENCES `curriculo` (`idcurriculo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_perguntas_curriculo_perguntas1`
    FOREIGN KEY (`perguntas_idperguntas`)
    REFERENCES `perguntas` (`idperguntas`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE TABLE IF NOT EXISTS `empresa` (
  `idempresa` INT NOT NULL AUTO_INCREMENT,
  `email` VARCHAR(80) NOT NULL,
  `senha` VARCHAR(12) NOT NULL,
  `nome` VARCHAR(45) NOT NULL,
  `numero` VARCHAR(45) NOT NULL,
  `cnpj` VARCHAR(45) NOT NULL,
  `cep` VARCHAR(8) NOT NULL,
  `ramoAtividade` VARCHAR(45) NOT NULL,
  `cidade_idcidade` INT NOT NULL,
  `cidade_estado_idestado` INT NOT NULL,
  PRIMARY KEY (`idempresa`, `cidade_idcidade`, `cidade_estado_idestado`),
  INDEX `fk_empresa_cidade1_idx` (`cidade_idcidade` ASC, `cidade_estado_idestado` ASC),
  CONSTRAINT `fk_empresa_cidade1`
    FOREIGN KEY (`cidade_idcidade` , `cidade_estado_idestado`)
    REFERENCES `cidade` (`idcidade` , `estado_idestado`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;